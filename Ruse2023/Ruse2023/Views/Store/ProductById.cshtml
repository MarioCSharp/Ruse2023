@using Ruse2023.Models.Store;
@model ProductCheckOutModel
@{
    Layout = "";
}

<head>
    <meta charset="UTF-8">
    <title>CodePen - Contact Us</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://demo.voidcoders.com/htmldemo/fitgear/main-files/assets/css/animate.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="~/css/treeplantCss.css">
    <link rel="stylesheet" href="~/assets/css/main.css" />
    <link rel="stylesheet" href="css/treeplant.css" />
    <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
</head>

<script src="~/assets/js/jquery.min.js"></script>
<script src="~/assets/js/jquery.scrollex.min.js"></script>
<script src="~/assets/js/jquery.scrolly.min.js"></script>
<script src="~/assets/js/browser.min.js"></script>
<script src="~/assets/js/breakpoints.min.js"></script>
<script src="~/assets/js/util.js"></script>
<script src="~/assets/js/main.js"></script>

<body>
    <header id="header" class="alt">
        <h1><a href="index.html">EcoWay</a></h1>
        <nav id="nav">
            <ul>
                <li class="special">
                    <a href="#menu" class="menuToggle"><span>Menu</span></a>
                    <div id="menu">
                        <ul>
                            <li><a asp-action="Index" asp-controller="Home">Home</a></li>
                            <li><a asp-action="Index" asp-controller="Store">Магазин</a></li>
                            @if (!User.Identity.IsAuthenticated)
                            {
                                <li><a asp-action="Register" asp-controller="Account">Sign Up</a></li>
                                <li><a asp-action="Login" asp-controller="Account">Log In</a></li>
                            }
                            else
                            {
                                <li><a asp-action="Profile" asp-controller="Account">Account</a></li>
                            }
                        </ul>
                    </div>
                </li>
            </ul>
        </nav>
    </header>
    <br />
    <br />
    <div class="col-75">
        <div class="container">
            <form method="post">
                <div class="row">
                    <div class="col-50" style="color: black;">
                        <h3 style="color: black;">Billing Address</h3>
                        <br />
                        <label for="fname" style="color: black;"><i class="fa fa-user"></i> Full Name</label>
                        <p>@Model.FullName</p>
                        <label for="email" style="color: black;"><i class="fa fa-envelope"></i> Email</label>
                        <p>@Model.Email</p>
                        <label for="adr" style="color: black;"><i class="fa fa-address-card-o"></i> PhoneNumber</label>
                        <p>@Model.PhoneNumber</p>
                        <div class="row">
                            <div class="col-50">
                            </div>
                            <div class="col-50">
                            </div>
                        </div>
                    </div>

                    <div class="col-50">
                        <h3 style="color: black;">Payment</h3>

                        <div class="icon-container">
                            <i class="fa fa-cc-visa" style="color:navy;"></i>
                            <i class="fa fa-cc-amex" style="color:blue;"></i>
                            <i class="fa fa-cc-mastercard" style="color:red;"></i>
                            <i class="fa fa-cc-discover" style="color:orange;"></i>
                        </div>
                        <label for="cname" style="color: black;">Your Points</label>
                        <p id="youcredits" style="color: black;"></p>
                        <label for="ccnum" style="color: black;">Required Points</label>
                        <p style="color: black;">@Model.Price</p>
                        <label for="expmonth" style="color: black;">Left Points</label>
                        <p id="leftpoints" style="color: black;"></p>
                    </div>

                </div>
                <a value="Continue to checkout" class="btn" asp-controller="Store" asp-action="BuyProduct" asp-route-id="@Model.Id">Checkout</a>
            </form>
        </div>
    </div>
</body>
<script src="~/assets/js/jquery.min.js"></script>
<script src="~/assets/js/jquery.scrollex.min.js"></script>
<script src="~/assets/js/jquery.scrolly.min.js"></script>
<script src="~/assets/js/browser.min.js"></script>
<script src="~/assets/js/breakpoints.min.js"></script>
<script src="~/assets/js/util.js"></script>
<script src="~/assets/js/main.js"></script>
s<style>
    .row {
        display: -ms-flexbox; /* IE10 */
        display: flex;
        -ms-flex-wrap: wrap; /* IE10 */
        flex-wrap: wrap;
        margin: 0 -16px;
    }

    .col-25 {
        -ms-flex: 25%; /* IE10 */
        flex: 25%;
    }

    .col-50 {
        -ms-flex: 50%; /* IE10 */
        flex: 50%;
    }

    .col-75 {
        -ms-flex: 75%; /* IE10 */
        flex: 75%;
    }

    .col-25,
    .col-50,
    .col-75 {
        padding: 0 16px;
    }

    .container {
        background-color: #f2f2f2;
        padding: 5px 20px 15px 20px;
        border: 1px solid lightgrey;
        border-radius: 3px;
    }

    input[type=text] {
        width: 100%;
        margin-bottom: 20px;
        padding: 12px;
        border: 1px solid #ccc;
        border-radius: 3px;
    }

    label {
        margin-bottom: 10px;
        display: block;
    }

    .icon-container {
        margin-bottom: 20px;
        padding: 7px 0;
        font-size: 24px;
    }

    .btn {
        background-color: #04AA6D;
        color: white;
        padding: 12px;
        margin: 10px 0;
        border: none;
        width: 100%;
        border-radius: 3px;
        cursor: pointer;
        font-size: 17px;
    }

        .btn:hover {
            background-color: #45a049;
        }

    span.price {
        float: right;
        color: grey;
    }

</style>
@section Scripts{
    <script>
        $.get('/api/getCredits', (data) => {
            $('#youcredits').text(data.ammount);
            $('#leftpoints').text(data.ammount - @Model.Price);
            console.log(data.Success);
        });
    </script>
}